# CSVD建筑工地视频标注工具 - 快捷键说明文档

> 版本：v2.0  
> 更新日期：2025年11月5日

---

## 📖 目录

- [视频播放控制](#视频播放控制)
- [时间标记与片段操作](#时间标记与片段操作)
- [视频导航与切换](#视频导航与切换)
- [标签快速选择](#标签快速选择)
- [文件夹与状态管理](#文件夹与状态管理)
- [其他功能](#其他功能)
- [使用技巧](#使用技巧)

---

## 🎬 视频播放控制

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| **Space** | 播放/暂停 | 最常用的播放控制键 |
| **S** | 播放/暂停 | 与Space功能相同（保留旧习惯） |
| **←** | 后退5秒 | 快速回看 |
| **→** | 前进5秒 | 快速跳过 |
| **Shift + ←** | 后退1秒 | 精确定位开始时间 |
| **Shift + →** | 前进1秒 | 精确定位结束时间 |
| **Home** | 跳到视频开头 | 快速回到起点 |
| **End** | 跳到视频结尾 | 快速查看视频末尾 |

> 💡 **提示：** 在文本输入框中输入时，这些快捷键会自动禁用，避免误触发。

---

## 📝 时间标记与片段操作

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| **Q** | 设置开始时间 | 将当前播放位置设为片段开始时间 |
| **E** | 设置结束时间 | 将当前播放位置设为片段结束时间 |
| **A** | 添加片段 | 快速添加当前配置的片段 |
| **D** | 删除最后片段 | 删除最新添加的片段（需确认） |
| **Tab** | 切换到描述框 | 快速输入片段描述 |
| **Ctrl + S** | 保存标注 | 手动保存当前视频的标注 |

### 📌 标注工作流程示例

```
1. 播放视频找到关键动作
2. 按 Q 标记开始时间
3. 继续播放到动作结束
4. 按 E 标记结束时间
5. 按 Tab 切换到描述框
6. 输入描述文字
7. 按 1-9 快速选择名词和动词标签
8. 按 A 添加片段
9. 按 Ctrl+N 自动跳到下一个未标注视频
```

---

## 🎥 视频导航与切换

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| **Ctrl + ←** | 上一个视频 | 切换到前一个视频（自动保存） |
| **Ctrl + →** | 下一个视频 | 切换到下一个视频（自动保存） |
| **Ctrl + N** | 下一个未标注视频 | 智能跳转，自动跳过已标注的视频 |

> 💡 **提示：** 切换视频时会自动保存当前标注，无需手动保存。

---

## 🏷️ 标签快速选择

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| **1-9** | 快速选择标签 | 数字对应标签列表的前9个选项 |
| **F1** | 打开标签管理器 | 管理名词和动词标签库 |

### 📌 标签选择逻辑

- **第一次按数字键：** 选择对应的名词（如：1=第1个名词，2=第2个名词）
- **第二次按数字键：** 选择对应的动词（如：1=第1个动词，2=第2个动词）

**示例：**
```
按 1 → 选择名词"脚手架"
按 2 → 选择动词"安装"
按 A → 添加片段（描述：脚手架 + 安装）
```

> 💡 **提示：** 可以在标签管理器（F1）中调整标签顺序，将常用标签放在前9位。

---

## 📁 文件夹与状态管理

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| **Ctrl + M** | 标记为非必要 | 将当前视频标记为非必要（可恢复） |

### 界面按钮操作

| 按钮 | 功能 | 说明 |
|------|------|------|
| **📁 切换文件夹** | 切换到其他子文件夹 | 无需退出程序即可切换批次 |
| **⚪ 非必要** | 标记/恢复非必要状态 | 与 Ctrl+M 功能相同 |
| **💾 保存** | 手动保存标注 | 与 Ctrl+S 功能相同 |
| **📤 导出** | 导出所有标注 | 生成JSON格式标注文件 |

### 状态筛选

在工具栏的"状态"下拉框中选择：
- **全部** - 显示所有视频
- **未标注** - 只显示未标注的视频（⭕）
- **已标注** - 只显示已标注的视频（✅）
- **非必要** - 只显示标记为非必要的视频（⚪）

---

## 🔧 其他功能

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| **Esc** | 取消/清除焦点 | 清除当前输入框焦点 |

---

## 💡 使用技巧

### 1️⃣ 高效标注流程

**最快标注法：**
```
Space播放 → Q开始 → E结束 → 1选名词 → 2选动词 → A添加 → Ctrl+N下一个
```
**平均用时：30-60秒/视频**

---

### 2️⃣ 精确时间定位

当需要精确定位时间点时：
```
1. 用 ← → 粗定位（5秒单位）
2. 用 Shift+← → 精确定位（1秒单位）
3. 按 Q 或 E 标记时间
```

---

### 3️⃣ 快速处理重复视频

发现视频内容重复或无需标注时：
```
1. 按 Ctrl+M 标记为非必要
2. 按 Ctrl+N 自动跳到下一个未标注视频
```

---

### 4️⃣ 批量标注技巧

**标注相似动作时：**
```
1. 设置好第一个片段的名词和动词
2. 后续片段只需：Q → E → A（标签自动保留上次选择）
3. 需要修改标签时再按数字键切换
```

---

### 5️⃣ 分批处理工作流

**处理大量视频的推荐流程：**
```
1. 启动程序 → 选择第一个文件夹
2. 使用状态筛选"未标注"
3. 标注完成后点击"📁 切换文件夹"
4. 选择下一个文件夹继续
5. 无需退出程序或修改配置文件
```

---

### 6️⃣ 键盘布局优化建议

**左手区域（主要操作）：**
- Q/E - 时间标记
- A/D - 添加/删除
- Tab - 切换输入
- 1-9 - 快速标签

**右手区域（辅助操作）：**
- Space - 播放
- 方向键 - 时间调整
- Ctrl组合键 - 视频切换

**双手协作：**
左手负责标注操作，右手负责播放控制，效率最高！

---

## 🎯 快捷键速查表

### 最常用（必记）

| 快捷键 | 功能 |
|--------|------|
| Space | 播放/暂停 |
| Q | 开始时间 |
| E | 结束时间 |
| A | 添加片段 |
| ←/→ | 时间调整 |
| 1-9 | 快速标签 |
| Ctrl+N | 下一个未标注 |

---

## ⚠️ 注意事项

1. **文本输入时：** 在文本框、描述框中输入时，部分快捷键（如Space、←、→、A、D）会自动禁用，避免冲突。

2. **快捷键冲突：** Ctrl组合键在任何情况下都可用，不会与输入冲突。

3. **自动保存：** 切换视频时会自动保存，但建议定期手动按 Ctrl+S 保存。

4. **标签顺序：** 数字键1-9对应标签列表的前9个，可在标签管理器中调整顺序。

5. **焦点管理：** 如果快捷键无响应，按 Esc 清除焦点后重试。

---

## 📝 更新日志

### v2.0 (2025-11-05)
- ✅ 新增完整快捷键系统（20个快捷键）
- ✅ 新增状态管理功能（未标注/已标注/非必要）
- ✅ 新增子文件夹选择功能
- ✅ 新增智能焦点过滤（避免文本输入冲突）
- ✅ 优化视频切换速度
- ✅ 优化用户界面

### v1.0 (初始版本)
- 基础视频标注功能
- 名词动词标签系统
- 片段管理功能

---
